---
title: Bash shell
date: 2022-05-04 16:02:27
tags: tools
categories: tools
---

Bash基本使用方法

- 上下方向键
- tab的作用
- 通配符

<!--more-->

# 基本使用

- 查看历史命令：上下方向键查看上一条、下一条命令
- 输入一个字符后按Tab，补全命令
- 输入两个字符后按Tab，补全文件
- 通配符
  - *匹配任意个任意字符
  - ?匹配一个任意字符

- type 命令，查看命令是shell内置命令还是外部命令

  ```bash
  type echo		# 显示最优先的一条命令
  type -a echo	# 显示所有符合的命令
  ```

- 删除当前的整个命令，^u

# 变量

- 显示变量，`echo $PATH`

- 设置变量，`name=yang`

- 取消变量设置，`unset name`

- 自定义变量无法被其他进程使用，除非export为环境变量

- 查看所有环境变量，`env`

- $变量表示当前进程的PID

  ```bash
  echo $$
  # 显示当前进程的PID
  ```

- ?变量表示上一个命令的返回值

  ```bash
  echo $?
  # 显示上一个命令的返回值
  ```

# bash shell的操作环境

- 键盘输入及其意义

  ```bash
  ^c	# 发送interrupt信号给当前运行进程
  ^z  # 暂停当前命令
  ^u  # 清除当前命令行文字
  ^d  # eof
  ```

- 通配符

  ```bash
  *	# 匹配任意个任意字符
  ?   # 匹配一个任意字符
  [0-9]   # 匹配数字
  [a-z]   # 匹配小写英文字母
  [A-Z]	# 匹配大写英文字母
  [^a]    # 匹配除a以外的字符
  ```

# 数据流重定向

- 将信息输出到文件而不是屏幕

  ```bash
  >	# 正确信息输出到文件（覆盖）
  >>  # 正确信息输出到文件（追加）
  2>  # 错误信息输出到文件（覆盖）
  2>>	# 错误信息输出到文件（追加）
  ```

- 一次输入多个命令

  ```bash
  cmd1; cmd2
  cmd1 && cmd2
  cmd1 || cmd2
  ```

# 管道命令

- 管道命令：接受前一个命令输出的数据，将其作为标准输入继续处理

- 常用管道命令：cut、grep、sort、uniq、wc、tee、xargs等

- 选取命令cut

  ```bash
  echo $PATH | cut -d ':' -f 3
  # 输出PATH的第三项（以:分隔）
  ```

- 选取命令grep：对于某行若包含关键词则将其输出

  ```bash
  last | grep 'reboot'	# 只显示last中包含reboot的行
  ```

- 排序命令sort

- 去重命令uniq

- 统计行数、字数、字符数命令wc

- 双向重定向（输出到文件和屏幕）命令tee

- 参数代换命令xargs
