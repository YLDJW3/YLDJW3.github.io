---
title: 设计模式
date: 2023-02-10 16:11:24
tags: 面向对象
categories: 面向对象
mathjax: true
---

# 引言

1. 设计模式是什么

   在设计面向对象系统时，通过合理定义类、相互通信对象的职责及其协作关系，得到的针对不同问题场景的一般性解决方案

2. 每种设计模式的学习重点

   意图：该设计模式所解决的问题

   参与者：设计模式中的类/对象及其职责

   协作：类/对象之间的协作关系

   效果：程序的时空复杂度，使用设计模式对程序灵活性、可拓展性、可移植性的影响

   结构：设计模式中类关系的图示

3. 分类

   创建型：与类/对象的创建有关

   结构型：与类/对象的组合有关

   行为型：类/对象的交付和职责分配

   类模式、对象模式

   > 图1-1描述了设计模式之间的关系，后续回顾

4. 设计模式如何解决OOP问题

   定义对象

   决定对象的粒度

   指定对象接口：确定接口的主要组成部分及经接口发送的数据类型，指定接口之间的关系

   描述对象的实现：实例化、继承、抽象类、混入类，接口继承，**对接口编程**

5. **复用机制**

   继承和组合

   委托

   参数化类型（C++中的template）

6. 运行时结构与编译时结构

   聚合：一个对象拥有另一个对象，或对另一个对象负责，常具有相同生命周期

   相识：知道另一个对象，较弱的耦合

7. 面向对象设计原则

   - 针对接口编程，而不是针对实现编程
   - 优先使用对象组合，而不是类继承

8. 设计模式增加程序的灵活性（格式为存在问题：设计模式的解决方法）

   显式地创建对象：使用工厂模式等间接创建对象

   对特殊操作的依赖：使用职责链、命令模式等在编译/运行时改变响应请求的方法

   对对象表示或实现的依赖：对客户隐藏信息

   算法依赖：策略模式等

   紧耦合：抽象耦合+分层技术

   通过生成子类扩充功能：对象组合+继承混合使用

   不能方便地对类进行修改：adapater、decorator等

> 1.6.7节中的场景描述暂时难以理解，但是十分重要，它充分说明了使用设计模式的优势，后续学习具体的设计模式时再回顾

9. 设计模式在不同软件中的作用

   应用程序：内部服用性、可维护性、可扩充性

   工具箱：代码复用

   框架：设计复用

   对比：使用工具箱时，要求编写应用软件的主体，调用工具箱中需要复用的代码；使用框架时，应该复用应用的主体，写主体调用的代码

   应用程序<<工具箱<<框架，设计难度不断提高，对灵活性、可扩展性的要求不断提高

# 一个具体的例子

