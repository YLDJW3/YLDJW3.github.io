<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.11.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Talk is cheap, show me the code.">
<meta property="og:type" content="website">
<meta property="og:title" content="元朗食品">
<meta property="og:url" content="http://example.com/page/6/index.html">
<meta property="og:site_name" content="元朗食品">
<meta property="og:description" content="Talk is cheap, show me the code.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Young">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/6/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/6/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>元朗食品</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">元朗食品</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Young"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Young</p>
  <div class="site-description" itemprop="description">Talk is cheap, show me the code.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">128</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>


<!-- require APlayer -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">

<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
<!-- require MetingJS-->

<script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script> 
<!--playlist外链地址-->   
<meting-js
  server="tencent"
  type="playlist" 
  id="8356942170"
  mini="false"
  fixed="false"
  list-folded="true"
  autoplay="false"
  volume="0.4"
  theme="#FADFA3"
  order="list"
  loop="all"
  preload="auto"
  lrc-type="1"
  mutex="true">
</meting-js>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/15/C++-Primer-Chapter-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/15/C++-Primer-Chapter-8/" class="post-title-link" itemprop="url">C++ Primer Chapter 8</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-15 11:05:10" itemprop="dateCreated datePublished" datetime="2022-02-15T11:05:10+08:00">2022-02-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="第八章-io库">第八章 IO库</h1>
<h2 id="回顾io库设施">回顾IO库设施</h2>
<ul>
<li><code>istream</code>类型，提供输入操作</li>
<li><code>ostream</code>类型，提供输出操作</li>
<li><code>cin</code>，<code>istream</code>对象，从标准输入读取数据</li>
<li><code>cout</code>，<code>ostream</code>对象，向标准输出写入数据</li>
<li><code>cerr</code>，<code>ostream</code>对象，用于输出程序错误信息，写入到标准错误</li>
<li><code>&gt;&gt;</code>运算符，用于从一个istream对象读取输入数据</li>
<li><code>&lt;&lt;</code>运算符，用于从一个ostream对象写入输出数据</li>
<li><code>getline</code>函数，从一个给定的istream读取一行数据，存入一个给定的string对象中</li>
</ul>
<h2 id="io类">8.1 IO类</h2>
<h3 id="三种io类型">三种IO类型</h3>
<ul>
<li><code>iostream</code>定义用于<strong>读写流</strong>的基本类型，包含<code>istream</code>和<code>ostream</code></li>
<li><code>fstream</code>定义用于<strong>读写命名文件</strong>的类型，包含<code>ifstream</code>和<code>ofstream</code></li>
<li><code>sstream</code>定义了<strong>读写内存string对象</strong>的类型，包含<code>istringstream</code>和<code>ostringstream</code></li>
<li>以上类型都用于处理char数据，为了支持宽字符类型，以上每种IO类型都对应的宽字符版本，用于处理<code>wchar_t</code>类型的数据</li>
</ul>
<h4 id="io类型之间的关系继承">IO类型之间的关系（继承）</h4>
<ul>
<li>类型<code>ifstream</code>和<code>istringstream</code>都<strong>继承</strong>自<code>istream</code>，我们可以像使用<code>istream</code>对象一样使用<code>ifstream</code>和<code>istringstream</code>对象</li>
</ul>
<h3 id="io对象无拷贝或赋值">IO对象无拷贝或赋值</h3>
<ul>
<li><p>不能拷贝或对IO对象赋值</p></li>
<li><p>因为不能拷贝IO对象，因此<strong>不能将函数形参或返回类型设置为流类型</strong>，只能以引用的方式传递IO对象</p></li>
<li><p>另外，读写IO对象会改变其状态，因此传递和返回的引用不能是const的</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ofstream out1, out2;</span><br><span class="line">out1 = out2;		<span class="comment">// 非法, 不能用一个io对象赋值给另一个io对象</span></span><br><span class="line"><span class="built_in">print</span>(out1);		<span class="comment">// 非法, 不能拷贝io对象</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="条件状态">条件状态</h3>
<ul>
<li><p>IO操作可能发生错误，<strong>IO类提供了一些函数与标志</strong>，用于访问和操纵流的条件状态</p></li>
<li><p>条件状态</p>
<ul>
<li><code>strm::iostate</code>，提供了表达条件状态的完整功能</li>
<li><code>strm::badbit</code>，指出<strong>流已崩溃</strong></li>
<li><code>strm::failbit</code>，指出一个<strong>IO操作失败</strong></li>
<li><code>strm::eofbit</code>，指出流到达了文件结束</li>
<li><code>strm::goodbit</code>，指出流未处于错误状态，保证为0</li>
<li><code>s.eof()</code>，若流s的<code>eofbit</code>置位则为true</li>
<li><code>s.fail()</code>，若流s的<code>failbit</code>或<code>badbit</code>置位则为true</li>
<li><code>s.bad()</code>，若流s的<code>badbit</code>置位则为true</li>
<li><code>s.good()</code>，若流s处于有效状态则返回true</li>
<li><code>s.clear()</code>，将流s的所有条件状态复位，流的状态设置为有效，返回void</li>
<li><code>s.clear(flags)</code>，根据给定的<code>flags</code>标志位，将流s的状态复位，<code>flags</code>的类型为<code>strm::iostate</code>，返回void</li>
<li><code>s.setstate(flags)</code>，根据给定的<code>flags</code>标志位，将流s的状态置位</li>
<li><code>s.rdstate()</code>，返回流s的当前条件状态，返回值类型为<code>strm::iostate</code></li>
</ul></li>
<li><p>IO错误的例子</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> ival;</span><br><span class="line">cin &gt;&gt; ival;</span><br><span class="line"><span class="comment">// 标准输入Boo, 读操作会失败, cin进入错误状态</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="在使用io类型前检查其是否有效状态">在使用IO类型前检查其是否有效状态</h3>
<ul>
<li><p>直接将IO对象作为一个条件使用，可检查其是否有效状态</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (cin &gt;&gt; val) &#123;</span><br><span class="line">    <span class="comment">// 读操作成功</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="查询流的状态">查询流的状态</h3>
<ul>
<li>使用IO对象的<code>good()</code>方法和<code>fail()</code>方法</li>
<li>若所有错误位均未置位，则<code>good()</code>返回true</li>
<li>若<code>badbit</code>被置位或<code>failbit</code>被置位，则<code>fail()</code>返回true。另外，到达文件结尾时，<code>failbit</code>、<code>eofbit</code>都会被置位，因此<code>fail()</code>包括了所有错误</li>
<li>当我们直接使用IO对象作为条件时，等价于使用<code>!s.fail()</code></li>
</ul>
<h3 id="管理条件状态">管理条件状态</h3>
<ul>
<li><p>利用<code>rdstate()</code>和<code>flag()</code>方法，可以实现将部分标志位复位，其他不变的效果</p></li>
<li><p>如将<code>failbit</code>和<code>badbit</code>复位，而其他标志位不变，代码如下</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cin.<span class="built_in">clear</span>(cin.<span class="built_in">rdstate</span>() &amp; (~cin.badbit) &amp; (~cin.failbit));</span><br></pre></td></tr></table></figure></li>
<li><p><code>clear()</code>不接受参数的版本，将清除所有错误标志位</p></li>
</ul>
<h3 id="管理输出缓冲">管理输出缓冲</h3>
<h4 id="缓冲区的作用">缓冲区的作用</h4>
<ul>
<li>每个输出流都有一个缓冲区，用来保存程序读写的数据</li>
<li>缓冲区的作用：允许操作系统将程序的多个输出操作组合成单一的系统级写操作，可能带来<strong>性能提升</strong></li>
</ul>
<h4 id="缓冲刷新数据真正写到输出设备或文件的原因">缓冲刷新（数据真正写到输出设备或文件）的原因</h4>
<ul>
<li><strong>程序正常结束</strong>时，将缓冲刷新</li>
<li><strong>缓冲区满</strong>时</li>
<li>使用<strong>操纵符<code>endl</code></strong>显式刷新缓冲区</li>
<li>用<strong>操纵符<code>unitbuf</code>设置流的内部状态</strong>，以清空缓冲区</li>
<li>一个输出流可能关联到其他流，这时<strong>读写被关联的流时，关联的流的缓冲区将被刷新</strong>。如<code>cin</code>和<code>cerr</code>都被关联到<code>cout</code>，因此读<code>cin</code>或写<code>cerr</code>都会导致<code>cout</code>的缓冲区被刷新</li>
</ul>
<h4 id="显式刷新输出缓冲区的操纵符">显式刷新输出缓冲区的操纵符</h4>
<ul>
<li><strong><code>endl</code>换行</strong>并刷新缓冲区</li>
<li><strong><code>flush</code></strong>刷新缓冲区，但<strong>不输出任何额外字符</strong></li>
<li><strong><code>ends</code>向缓冲区插入一个空字符</strong>，刷新缓冲区</li>
</ul>
<h4 id="unitbuf和nounitbuf操纵符"><code>unitbuf</code>和<code>nounitbuf</code>操纵符</h4>
<ul>
<li><code>unitbuf</code>操纵符告诉流在接下来的每次写操作后都进行依次flush操作</li>
<li>而<code>nounitbuf</code>操纵符则重置流，恢复正常的系统管理的缓冲区刷新机制</li>
</ul>
<h4 id="如果程序崩溃输出缓冲区将不会被刷新">如果程序崩溃，输出缓冲区将不会被刷新</h4>
<ul>
<li>程序异常终止，输出缓冲区不会刷新。因此调试时，你可能会因为没有输出，误以为程序没有执行相应的代码，但实则程序已经执行代码，但在输出前崩溃了</li>
</ul>
<h3 id="关联输入流和输出流">关联输入流和输出流</h3>
<ul>
<li><code>cin</code>被关联到<code>cout</code>，这意味着所有读取标准输入的操作前都会先刷新<code>cout</code>的缓冲区</li>
<li>交互式系统通常应该关联输入流和输出流</li>
</ul>
<h4 id="tie方法"><code>tie</code>方法</h4>
<ul>
<li><code>s.tie()</code>，假如s被关联到一个输出流，将返回指向该输出流的指针；若s未被关联到输出流，将返回空指针</li>
<li><code>s.tie(ostrem*)</code>，将自己关联到指针指向的<code>ostream</code>，返回指向s原来关联的ostream的指针，若无则返回空指针</li>
<li>每个流最多同时关联到一个ostream，但同一个ostream可以被多个不同的流关联</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/15/C++-Primer-Chapter-8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/13/C++-Primer-Chapter-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/13/C++-Primer-Chapter-7/" class="post-title-link" itemprop="url">C++ Primer Chapter 7</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-13 22:11:23" itemprop="dateCreated datePublished" datetime="2022-02-13T22:11:23+08:00">2022-02-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="第七章-类">第七章 类</h1>
<h2 id="定义抽象数据类型">7.1 定义抽象数据类型</h2>
<h3 id="实现sales_data类">实现Sales_data类</h3>
<h4 id="接口">接口</h4>
<ul>
<li><code>isbn</code>成员函数，用于返回对象的ISBN编号</li>
<li><code>combine</code>成员函数，用于将一个Sales_data对象加到另一个对象上</li>
<li><code>add</code>函数，执行两个Sales_data对象的加法</li>
<li><code>read</code>函数，从<code>istream</code>中读取数据到Sales_data对象中</li>
<li><code>print</code>函数，将Sales_data对象的值输出到<code>ostream</code></li>
</ul>
<h4 id="定义成员函数">定义成员函数</h4>
<ul>
<li><strong>成员函数的声明必须在类的内部，定义则既可在类的内部，也可在类的外部</strong></li>
</ul>
<h5 id="定义在类内部的成员函数默认是inline的">定义在类内部的成员函数默认是inline的</h5>
<h5 id="isbn函数"><code>isbn</code>函数</h5>
<ul>
<li>返回<code>Sales_data</code>的书本编号</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookno; &#125;</span><br></pre></td></tr></table></figure>
<h4 id="this">this</h4>
<ul>
<li>成员函数通过<strong>一个名为<code>this</code>的额外的隐式参数访问调用它的那个对象</strong>，当我们调用成员函数时，用请求该函数的对象的地址初始化<code>this</code></li>
<li>在成员函数内部，我们可以直接使用调用该函数的对象的成员。<strong>任何对类成员的直接访问，都被看做this的隐式引用</strong>，所以当<code>isbn</code>使用<code>bookno</code>时，就像我们使用了<code>this-&gt;bookno</code>一样</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>-&gt;bookno; &#125;</span><br><span class="line"><span class="comment">// 尽管没必要, 但isbn可如上定义</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>this</code>是一个<strong>常量指针</strong>，不允许改变<code>this</code>的地址，任何自定义名为<code>this</code>的参数或变量的行为都是非法的</li>
</ul>
<h4 id="const成员函数">const成员函数</h4>
<ul>
<li><code>isbn</code>函数形参列表后紧跟着<code>const</code>，这里<strong>const的作用是修改隐式<code>this</code>指针的类型</strong></li>
<li>形参列表的const表明<code>this</code>是一个指向常量的指针，因此<code>this</code>是<strong>一个指向常量的常量指针</strong></li>
<li>使用const的成员函数称为<strong>常量成员函数</strong></li>
</ul>
<h4 id="类作用域">类作用域</h4>
<ul>
<li>类本身是一个作用域</li>
<li>编译器分两步处理类，先编译成员的声明，再处理成员函数体。因此<strong>成员函数体可随意使用类中的其他成员</strong>，无需在意声明次序</li>
</ul>
<h4 id="在类外部定义的成员函数">在类外部定义的成员函数</h4>
<ul>
<li>成员函数必须在类内声明，但允许在类外进行定义</li>
<li>类外部定义的成员函数必须<strong>包含它所属的类名</strong></li>
</ul>
<h5 id="avg_price成员函数"><code>avg_price</code>成员函数</h5>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Sales_data::avg_price</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (units_sold == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> revenue / units_sold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/13/C++-Primer-Chapter-7/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/13/C++-Primer-%E5%85%B3%E9%94%AE%E9%97%AE%E9%A2%98%E9%9B%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/13/C++-Primer-%E5%85%B3%E9%94%AE%E9%97%AE%E9%A2%98%E9%9B%86/" class="post-title-link" itemprop="url">C++ Primer 关键问题集</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-13 21:39:36" itemprop="dateCreated datePublished" datetime="2022-02-13T21:39:36+08:00">2022-02-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>C++ Primer各章节关键问题总结</strong></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/13/C++-Primer-%E5%85%B3%E9%94%AE%E9%97%AE%E9%A2%98%E9%9B%86/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/13/C++-Primer-Chapter-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/13/C++-Primer-Chapter-6/" class="post-title-link" itemprop="url">C++ Primer Chapter 6</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-13 12:18:29" itemprop="dateCreated datePublished" datetime="2022-02-13T12:18:29+08:00">2022-02-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="第六章-函数">第六章 函数</h1>
<h2 id="函数基础">6.1 函数基础</h2>
<h3 id="基础">基础</h3>
<h4 id="函数定义">函数定义</h4>
<ul>
<li>函数定义由以下几部分组成
<ul>
<li>返回类型</li>
<li>函数名</li>
<li>函数的<strong>形参列表 (parameters)</strong></li>
<li>函数体</li>
</ul></li>
</ul>
<h4 id="调用运算符">调用运算符</h4>
<ul>
<li><strong>调用运算符</strong>是一对圆括号，作用于一个表达式，该表达式是<strong>函数或者指向函数的指针</strong></li>
<li>调用运算符的圆括号内部是一个用逗号隔开的<strong>实参列表
(arguments)</strong></li>
<li><strong>调用表达式的类型</strong>是函数的返回类型</li>
</ul>
<h4 id="形参和实参">形参和实参</h4>
<ul>
<li>实参是形参的初始值，第一个实参初始化第一个形参，依次类推</li>
<li>但是<strong>实参的求值顺序是不确定的</strong></li>
<li>函数调用规定<strong>实参数量必须与形参数量一致</strong></li>
</ul>
<h4 id="函数的形参列表">函数的形参列表</h4>
<ul>
<li>函数的<strong>形参列表可以为空</strong>，如<code>int f()</code>或<code>int f(void)</code></li>
<li><strong>形参的名字不能重复</strong></li>
<li><strong>形参可以没有名字</strong>，但这样我们就无法使用该形参。尽管如此，函数调用时也要为其提供实参以初始化该形参</li>
</ul>
<h4 id="函数的返回类型">函数的返回类型</h4>
<ul>
<li>特殊的返回类型<code>void</code>表示函数不返回任何值</li>
<li>返回类型<strong>不能是数组或函数类型</strong></li>
<li>但可以是指向数组或函数的指针类型</li>
</ul>
<h3 id="自动对象">自动对象</h3>
<ul>
<li>对于普通局部变量对应的对象，函数经过变量定义语句时创建该对象，当到达其定义所在的块的末尾时销毁该对象，把这种<strong>只存在于块执行期间的对象称为自动对象</strong></li>
<li>函数的<strong>形参也是一种自动对象</strong></li>
</ul>
<h4 id="局部变量的初始化">局部变量的初始化</h4>
<ul>
<li>如果变量定义具有初始值，则使用该初始值进行初始化</li>
<li>如果变量定义不包含初始值，则进行默认初始化，因此<strong>内置类型的未初始化的局部变量将具有未定义的值</strong></li>
</ul>
<h3 id="局部静态对象">局部静态对象</h3>
<ul>
<li><p><strong>局部静态对象</strong>在程序执行路径第一次经过对象定义语句时初始化，<strong>在程序终止时才被销毁</strong></p></li>
<li><p>局部静态对象定义所在块结束也不会对它产生影响</p></li>
<li><p>将局部对象定义为<strong>static类型</strong>可获得局部静态对象</p></li>
<li><p>如果局部静态变量没有显式的初始值，将执行<strong>值初始化</strong>，<strong>内置类型的局部静态变量初始化为0</strong></p></li>
</ul>
<h3 id="函数声明">函数声明</h3>
<ul>
<li>函数声明需要包含返回类型、函数名和形参类型，也称为函数原型</li>
<li>函数声明不包含函数体，形参名字也可省略</li>
<li><strong>函数声明一般放在头文件中，函数定义则放在源文件中，源文件应该包含相应的头文件</strong></li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/13/C++-Primer-Chapter-6/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/13/C++-Primer-Chapter-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/13/C++-Primer-Chapter-5/" class="post-title-link" itemprop="url">C++ Primer Chapter 5</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-13 00:21:09" itemprop="dateCreated datePublished" datetime="2022-02-13T00:21:09+08:00">2022-02-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="第五章-语句">第五章 语句</h1>
<h2 id="简单语句">5.1 简单语句</h2>
<h3 id="空语句">空语句</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">; 		<span class="comment">// 最好加上注释解释为啥是空语句</span></span><br></pre></td></tr></table></figure>
<ul>
<li>常用于循环的全部工作再条件部分就可以完成时，循环体则为一条空语句</li>
<li>如以下代码，将不断读入数据直至eof或者输入值等于<code>sought</code></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(cin &gt;&gt; s &amp;&amp; s != sought) ;	<span class="comment">// 空语句</span></span><br></pre></td></tr></table></figure>
<h3 id="复合语句块">复合语句/块</h3>
<ul>
<li><p>用花括号括起的语句和声明序列称为<strong>复合语句</strong>，或者<strong>块</strong></p></li>
<li><p>块不以分号结束</p></li>
<li><p><strong>空块</strong>指内部没有任何语句的一对花括号，空块等价于空语句</p></li>
</ul>
<h2 id="语句作用域">5.2 语句作用域</h2>
<ul>
<li>在<code>if</code>、<code>switch</code>、<code>while</code>、<code>for</code>语句的控制结构内定义的变量，只在语句内部可见</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/13/C++-Primer-Chapter-5/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/12/C++-Primer-Chapter-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/12/C++-Primer-Chapter-4/" class="post-title-link" itemprop="url">C++ Primer Chapter 4</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-12 20:13:26" itemprop="dateCreated datePublished" datetime="2022-02-12T20:13:26+08:00">2022-02-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="第四章-表达式">第四章 表达式</h1>
<h2 id="基础">4.1 基础</h2>
<h3 id="重载运算符">重载运算符</h3>
<ul>
<li>运算符作用于类类型的对象时，类可以自行定义其含义，称为<strong>重载运算符</strong></li>
<li>如IO库的<code>&gt;&gt;</code>和<code>&lt;&lt;</code>，string和vector对象
的运算符等</li>
</ul>
<h3 id="左值和右值">左值和右值</h3>
<ul>
<li>表达式要么是左值，要么是右值</li>
<li><strong>左值表达式的结果是一个对象或一个函数</strong></li>
<li>当一个对象用作右值时，用的是对象的值；当一个对象用作左值时，用的是对象的身份（在内存中的位置）</li>
<li>需要右值的地方可用左值代替，此时使用的是左值的内容（值）；但需要左值的地方不能用右值代替</li>
</ul>
<h3 id="求值顺序优先级结合律">求值顺序、优先级、结合律</h3>
<ul>
<li>运算对象的求值顺序与优先级、结合律无关，如<code>f() + g() * h() + j()</code>中，这<strong>四个函数的调用顺序是不确定的</strong></li>
<li>因此当函数的调用顺序会对结果造成影响时，应该先调用函数获取返回值，再将其用于运算中</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/12/C++-Primer-Chapter-4/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/12/C++-Primer-Chapter-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/12/C++-Primer-Chapter-3/" class="post-title-link" itemprop="url">C++ Primer Chapter 3</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-12 13:29:34" itemprop="dateCreated datePublished" datetime="2022-02-12T13:29:34+08:00">2022-02-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="第三章-字符串向量和数组">第三章 字符串、向量和数组</h1>
<h2 id="命名空间的using声明">3.1 命名空间的using声明</h2>
<h3 id="作用域操作符">作用域操作符<code>::</code></h3>
<ul>
<li>作用域操作符的含义是，编译器应该从操作符左侧名字所示的<strong>作用域</strong>中寻找右侧的<strong>名字</strong>，因此<code>std::cin</code>意思是使用命名空间<code>std</code>中的名字<code>cin</code></li>
</ul>
<h3 id="using声明">using声明</h3>
<ul>
<li><p>通过using声明可以无须专门前缀也能使用所需的名字</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span>::name;</span><br></pre></td></tr></table></figure>
<p>一旦有了上述语句，就可以直接访问命名空间的名字，即直接使用<code>name</code></p></li>
</ul>
<h4 id="每个名字都需要独立的using声明">每个名字都需要独立的using声明</h4>
<ul>
<li><p>每个using声明仅可以引入命名空间中的一个成员，例如既要使用<code>cin</code>又要使用<code>cout</code>则需要使用一下语句</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="声明整个命名空间">声明整个命名空间</h4>
<ul>
<li><p>通过以下语句，使用std中的名字时都不需要添加前缀</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="头文件不应该包含using声明">头文件不应该包含using声明</h4>
<ul>
<li>在不经意间包含了一些名字，反而可能产生名字冲突</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/12/C++-Primer-Chapter-3/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/11/CS-144-Summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/11/CS-144-Summary/" class="post-title-link" itemprop="url">CS-144 Summary</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-11 21:36:20" itemprop="dateCreated datePublished" datetime="2022-02-11T21:36:20+08:00">2022-02-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Computer-Network/" itemprop="url" rel="index"><span itemprop="name">Computer Network</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="总结">总结</h1>
<h2 id="lab0">lab0</h2>
<h3 id="功能实现">功能实现</h3>
<ul>
<li>lab0实现了位于内存中的一个byte
stream，其核心是一个缓冲区buffer，writer可以将字符依次写入该缓冲区，reader可依次从缓冲区读出字符</li>
<li>使用双端队列deque模拟buffer</li>
</ul>
<h3 id="注意点">注意点</h3>
<ul>
<li>c++ private类变量需要在定义时候初始化</li>
<li>read方法的实现依赖于peek_output和pop_output，需要在pop_output中修改read_ptr</li>
<li>peek时需要使用assign方法将字符从deque数据结构复制到string中</li>
</ul>
<h2 id="lab1">lab1</h2>
<h3 id="功能实现-1">功能实现</h3>
<ul>
<li>lab1实现一个stream reassembler，它将多个byte
streams中的片段按正确顺序重新组合成一个连续的字节流</li>
<li>通过map有序容器，使得<code>StreamReassembler</code>能够处理由于网络传输引起的datagrams乱序、重复等问题</li>
</ul>
<h3 id="注意点-1">注意点</h3>
<ul>
<li><code>StreamReassembler</code>的容量<code>capacity</code>，需要考虑在<code>ByteStream</code>中的字节数，以及在<code>_buf</code>中的字节数</li>
<li><code>StreamReassembler</code>的eof检测，需要考虑不写入任何字节直接到达eof的特殊情况</li>
</ul>
<h2 id="lab2">lab2</h2>
<h3 id="功能实现-2">功能实现</h3>
<ul>
<li>实现seqno、absolute seqno和stream index三者之间的转换</li>
<li>实现<code>TCPReceiver</code>类，从TCP的另一端接收TCP
segments，将数据以及文件结尾等送入<code>StreamReassembler</code>类，并<strong>计算ackno和window
size等信息</strong>，这些信息将通过发送给另一端的TCP
segments进行传输</li>
</ul>
<h3 id="注意点-2">注意点</h3>
<ul>
<li>absolute seqno和stream
index之间的转换只相差1，关键在于如何实现<strong>seqno、absolute
seqno之间的转换</strong>。将一个32位数转换为64位数，可以有很多可能的值，因此需要<strong>通过checkpoint（取离checkpoint最接近的64位数）确定唯一的值</strong></li>
<li><code>TCPReceiver</code>类需要
<ul>
<li>接收TCP segment，<strong>记录ISN</strong>用于seqno和stream
index之间的转换</li>
<li>对于每条非空TCP segment，需要计算其data首个字节对应的stream
index，并调用<code>StreamReassembler</code>类的<code>push_substring</code>成员</li>
<li>计算ackno和window size</li>
<li>对于seqno和stream index的转换，需要考虑FIN和SYN标志的影响</li>
<li>更新checkpoint，讲义要求将checkpoint设置为TCP最后一个reassembled的字节的stream
index，程序中将其设置为上一个收到的string的首字节的stream
index，也能通过</li>
<li>EOF的检测：只有当<code>stream_out().input_ended()</code>为真时，才代表EOF被reassembled</li>
</ul></li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/11/CS-144-Summary/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/11/C++-Primer-Chapter-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/11/C++-Primer-Chapter-2/" class="post-title-link" itemprop="url">C++ Primer Chapter 2</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-11 15:27:12" itemprop="dateCreated datePublished" datetime="2022-02-11T15:27:12+08:00">2022-02-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="第二章-变量和基本类型">第二章 变量和基本类型</h1>
<h2 id="基本内置类型">2.1 基本内置类型</h2>
<ul>
<li>char, int, bool, long long, double</li>
</ul>
<h3 id="无符号类型赋值">无符号类型赋值</h3>
<ul>
<li>赋给无符号类型一个超出其表示范围的值时，结果是初始值对无符号类型表示数值总数取模后的余数</li>
<li>如，将<code>-1</code>赋给8 bit的unsigned
char，结果为<code>255</code></li>
</ul>
<h3 id="不要混用带符号类型和无符号类型">不要混用带符号类型和无符号类型</h3>
<ul>
<li><p>当算术表达式既有无符号数又有int时，会<strong>将int值转换为无符号数</strong></p></li>
<li><p>如，下列代码产生的结果为<code>4294967264</code></p></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> u = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">cout &lt;&lt; i - u &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="指定字面值的类型">指定字面值的类型</h3>
<ul>
<li><code>42ULL</code>指定类型为unsigned long
long，<code>1E-3F</code>指定类型为float，<code>3.14159L</code>指定类型为long
double，<code>3LL</code>指定类型为long long</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/11/C++-Primer-Chapter-2/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/10/CF-Global-17/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="元朗食品">
      <meta itemprop="description" content="Talk is cheap, show me the code.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 元朗食品">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/10/CF-Global-17/" class="post-title-link" itemprop="url">CF Global 17</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-10 21:12:35" itemprop="dateCreated datePublished" datetime="2022-02-10T21:12:35+08:00">2022-02-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-08 20:08:32" itemprop="dateModified" datetime="2022-04-08T20:08:32+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="总结">总结</h1>
<ul>
<li>Global round的难度较高，D题难度就达到了2000，只做出了A-C题</li>
</ul>
<h1 id="c.-keshi-is-throwing-a-party"><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1610/problem/C">C. Keshi Is
Throwing a Party</a></h1>
<ul>
<li>标签：二分查找</li>
<li>分析
<ul>
<li>假设要选取k个人，当前是滴<span class="math inline">\(i\)</span>个人，则必须满足的条件是<span class="math inline">\(b_i\geq i-1\)</span>和<span class="math inline">\(a_i\geq k - i\)</span></li>
<li>由此，可在一次遍历判断能否选取k个人，然后对<span class="math inline">\(k\)</span>进行二分搜索即可</li>
</ul></li>
<li>代码</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp;a, vector&lt;<span class="keyword">int</span>&gt;&amp;b, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n = a.<span class="built_in">size</span>();</span><br><span class="line">	<span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt;= k - (c + <span class="number">1</span>) &amp;&amp; b[i] &gt;= c) </span><br><span class="line">			++c;</span><br><span class="line">		<span class="keyword">if</span> (c &gt;= k)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">	<span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">	<span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">b</span><span class="params">(n)</span></span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; a[i];</span><br><span class="line">		cin &gt;&gt; b[i];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> l = <span class="number">0</span>, r = n;</span><br><span class="line">	<span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (r - l) / <span class="number">2</span> + l;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">check</span>(a, b, mid)) &#123;</span><br><span class="line">			l = mid + <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			r = mid - <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; l - <span class="number">1</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  	cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span>(t--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/10/CF-Global-17/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Young</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  




  <script src="/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
